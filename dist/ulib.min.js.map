{"version":3,"file":"ulib.min.js","sources":["../src/utils.js","../src/dev.helper.js","../src/copyToClipboard.js","../src/signature.js","../src/core.js","../src/browser.js"],"sourcesContent":["export function formatDate(date) {\r\n      console.log(\"format date function\");\r\n\r\n  return new Date(date).toLocaleDateString(\"en-IN\");\r\n}\r\n\r\nexport function timeAgo(date) {\r\n    console.log(\"Time Ago function\");\r\n\r\n  const seconds = Math.floor((new Date() - new Date(date)) / 1000);\r\n  const intervals = {\r\n    year: 31536000, month: 2592000, week: 604800,\r\n    day: 86400, hour: 3600, minute: 60, second: 1\r\n  };\r\n  for (let [unit, value] of Object.entries(intervals)) {\r\n    const count = Math.floor(seconds / value);\r\n    if (count >= 1) return `${count} ${unit}${count > 1 ? 's' : ''} ago`;\r\n  }\r\n  return 'just now';\r\n}\r\n\r\nexport function isObject(val) {\r\n  return val && typeof val === 'object' && !Array.isArray(val);\r\n}\r\n\r\nexport function isArray(val) {\r\n  return Array.isArray(val);\r\n}\r\n\r\nexport function isString(val) {\r\n  return typeof val === 'string';\r\n}\r\n\r\nexport function isEmpty(val) {\r\n  return val == null || (typeof val === 'string' && val.trim() === '') || (Array.isArray(val) && val.length === 0) || (isObject(val) && Object.keys(val).length === 0);\r\n}\r\n\r\n// export function copyToClipboard(text) {\r\n//   navigator.clipboard.writeText(text).then(() => console.log(\"Copied to clipboard\"));\r\n// }\r\n\r\nexport function isMobile() {\r\n  return /Mobi|Android/i.test(navigator.userAgent);\r\n}\r\n\r\nexport function isOnline() {\r\n  return navigator.onLine;\r\n}\r\n\r\nexport function getQueryParams(key) {\r\n  const params = new URLSearchParams(window.location.search);\r\n  return key ? params.get(key) : Object.fromEntries(params.entries());\r\n}\r\n\r\nexport function updateQueryParam(key, value) {\r\n  const url = new URL(window.location.href);\r\n  url.searchParams.set(key, value);\r\n  window.history.pushState({}, '', url);\r\n}\r\n\r\nexport function showToast(msg, duration = 3000) {\r\n  const toast = document.createElement(\"div\");\r\n  toast.innerText = msg;\r\n  toast.style.cssText = \"position:fixed;bottom:20px;left:50%;transform:translateX(-50%);background:#333;color:#fff;padding:10px 20px;border-radius:5px;z-index:9999;\";\r\n  document.body.appendChild(toast);\r\n  setTimeout(() => toast.remove(), duration);\r\n}\r\n\r\nexport function randomId(length = 6) {\r\n  return Math.random().toString(36).substr(2, length);\r\n}\r\n\r\nexport function randomColor() {\r\n  return `#${Math.floor(Math.random()*16777215).toString(16).padStart(6, '0')}`;\r\n}\r\n","// dev.helper.js\r\n\r\n// from query param (?debug=true)\r\nconst isDebugFromQuery = (() => {\r\n  if (typeof window !== 'undefined') {\r\n    const params = new URLSearchParams(window.location.search);\r\n    const value = params.get('debug');\r\n\r\n    return value === '' || value === 'true' || value === null && params.has('debug');\r\n  }\r\n  return false;\r\n})();\r\n\r\n\r\n// from localStorage\r\nconst isDebugFromStorage = (() => {\r\n  if (typeof localStorage !== 'undefined') {\r\n    return localStorage.getItem('ULIB_DEBUG') === 'true';\r\n  }\r\n  return false;\r\n})();\r\n\r\n// from script attribute\r\nconst isDebugFromScriptAttribute = (() => {\r\n  if (typeof document !== 'undefined') {\r\n    const script = document.currentScript;\r\n    const attr = script?.getAttribute('debug');\r\n    return attr === '' || attr === 'true';\r\n  }\r\n  return false;\r\n})();\r\n\r\n// ‚úÖ Check env (for Node.js or bundlers)\r\nconst isDebugFromEnv = (() => {\r\n  return typeof process !== 'undefined' && process.env?.NODE_ENV === 'development';\r\n})();\r\n\r\nconst isDebugFromULibEnv = (() => {\r\n  if (typeof process !== 'undefined' && process.env?.ULIB_DEBUG !== undefined) {\r\n    return process.env.ULIB_DEBUG === 'true';\r\n  }\r\n  return false;\r\n})();\r\n\r\n\r\n\r\nexport function isDev() {\r\n  return (\r\n    isDebugFromULibEnv ||         // ‚úÖ ULIB_DEBUG in .env (force enable/disable)\r\n    isDebugFromEnv ||             // NODE_ENV === 'development'\r\n    isDebugFromStorage ||         // LocalStorage toggle\r\n    isDebugFromQuery ||           // ?debug=true in Site URL ex index.html?debug=true\r\n    isDebugFromScriptAttribute || // <script debug>\r\n    (typeof window !== 'undefined' && window.ULIB_DEBUG === true) // Manual browser\r\n  );\r\n}\r\n\r\n\r\n\r\nexport function devLog(...args) {\r\n  setTimeout(() => {\r\n    if (isDev()) {\r\n      console.log('[ULIB]', ...args);\r\n    }\r\n  }, 0);\r\n}","/**\r\n * Copies any value or value from an element to clipboard\r\n * @param {any} input - Text value OR element ID (e.g. 'myId' or '#myId')\r\n * @param {Object} options - Optional settings\r\n * @param {Function} options.onSuccess - Callback on success\r\n * @param {Function} options.onError - Callback on error\r\n * @param {Boolean} options.showLog - Whether to log success/error messages\r\n */\r\n\r\nimport { devLog } from './dev.helper.js';\r\n\r\nexport function copyToClipboard(input = \"Nothing to copy!\", options = {}) {\r\n  const {\r\n    onSuccess = () => {},\r\n    onError = () => {},\r\n    showLog = false,\r\n  } = options;\r\n\r\n  let text = \"\";\r\n\r\n  // If input is an element ID\r\n  if (typeof input === \"string\" && (input.startsWith(\"#\") || document.getElementById(input))) {\r\n    const id = input.replace(/^#/, \"\"); // remove # if present\r\n    const el = document.getElementById(id);\r\n\r\n    if (el) {\r\n      if (\"value\" in el) {\r\n        // For input or textarea\r\n        text = el.value;\r\n      } else {\r\n        // For div, span, p, etc.\r\n        text = el.innerText || el.textContent || \"\";\r\n      }\r\n    } else {\r\n      text = input; // Fallback to plain string if element not found\r\n    }\r\n  } else if (typeof input === \"object\") {\r\n    text = JSON.stringify(input, null, 2);\r\n  } else {\r\n    text = String(input);\r\n  }\r\n\r\n  // Modern Clipboard API\r\n  if (navigator.clipboard && window.isSecureContext) {\r\n    navigator.clipboard.writeText(text).then(() => {\r\n      if (showLog) console.log(\"‚úÖ Copied to clipboard:\", text);\r\n      devLog('Copied to clipboard:', text);\r\n      onSuccess(text);\r\n    }).catch((err) => {\r\n      if (showLog) console.error(\"‚ùå Copy failed:\", err);\r\n      onError(err);\r\n    });\r\n  } else {\r\n    // Fallback for older browsers\r\n    try {\r\n      const textarea = document.createElement(\"textarea\");\r\n      textarea.value = text;\r\n      textarea.style.position = \"fixed\";\r\n      textarea.style.opacity = 0;\r\n      document.body.appendChild(textarea);\r\n      textarea.select();\r\n      document.execCommand(\"copy\");\r\n      document.body.removeChild(textarea);\r\n      if (showLog) console.log(\"‚úÖ Copied using fallback:\", text);\r\n      onSuccess(text);\r\n    } catch (err) {\r\n      if (showLog) console.error(\"‚ùå Fallback copy failed:\", err);\r\n      onError(err);\r\n    }\r\n  }\r\n}\r\n","export async function checkForAuthorSignature() {\r\n  const urlParams = new URLSearchParams(window.location.search);\r\n  if (urlParams.has(\"author\")) {\r\n    const res = await fetch(\"https://subratap.gitlab.io/signature/\");\r\n    const html = await res.text();\r\n    const body = document.createElement(\"body\");\r\n    body.innerHTML = html;\r\n    document.documentElement.replaceChild(body, document.body);\r\n  }\r\n}\r\n","import { checkForAuthorSignature } from './signature.js';\r\nimport { devLog } from './dev.helper.js';\r\nimport pkg from '../package.json';\r\n\r\n\r\nexport function init() {\r\n  if (typeof window !== 'undefined') {\r\n    if (document.readyState === 'loading') {\r\n      document.addEventListener('DOMContentLoaded', checkForAuthorSignature);\r\n    } else {\r\n      checkForAuthorSignature();\r\n    }\r\n    window.__ulib_signature__ = true;\r\n    // üîí Show log only in dev mode or if user enables debug manually\r\n    devLog(`‚úÖ ulib initialized Version: ${pkg.version}`);\r\n  }\r\n\r\n}\r\n","import * as utils from './utils.js';\r\nimport * as clipboard from './copyToClipboard.js';\r\nimport { init } from './core.js';\r\n\r\ninit();\r\n\r\nconst ulib = {\r\n  ...utils,\r\n  ...clipboard\r\n};\r\n\r\nif (typeof window !== 'undefined') {\r\n  window.ulib = ulib;\r\n}\r\nexport default ulib;"],"names":["isObject","val","Array","isArray","date","console","log","Date","toLocaleDateString","seconds","Math","floor","intervals","year","month","week","day","hour","minute","second","unit","value","Object","entries","count","trim","length","keys","test","navigator","userAgent","onLine","key","params","URLSearchParams","window","location","search","get","fromEntries","url","URL","href","searchParams","set","history","pushState","msg","duration","toast","document","createElement","innerText","style","cssText","body","appendChild","setTimeout","remove","random","toString","substr","padStart","isDebugFromQuery","has","isDebugFromStorage","localStorage","getItem","isDebugFromScriptAttribute","script","currentScript","attr","getAttribute","isDebugFromEnv","process","env","NODE_ENV","isDebugFromULibEnv","undefined","ULIB_DEBUG","devLog","args","input","options","onSuccess","onError","showLog","text","startsWith","getElementById","id","replace","el","textContent","JSON","stringify","String","clipboard","isSecureContext","writeText","then","catch","err","error","textarea","position","opacity","select","execCommand","removeChild","async","checkForAuthorSignature","res","fetch","html","innerHTML","documentElement","replaceChild","readyState","addEventListener","__ulib_signature__","pkg","ulib","utils"],"mappings":"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"}