{"version":3,"file":"ulib.min.js","sources":["../src/utils.js","../src/copyToClipboard.js","../src/signature.js","../src/core.js","../src/browser.js"],"sourcesContent":["export function formatDate(date) {\r\n  return new Date(date).toLocaleDateString(\"en-IN\");\r\n}\r\n\r\nexport function timeAgo(date) {\r\n  const seconds = Math.floor((new Date() - new Date(date)) / 1000);\r\n  const intervals = {\r\n    year: 31536000, month: 2592000, week: 604800,\r\n    day: 86400, hour: 3600, minute: 60, second: 1\r\n  };\r\n  for (let [unit, value] of Object.entries(intervals)) {\r\n    const count = Math.floor(seconds / value);\r\n    if (count >= 1) return `${count} ${unit}${count > 1 ? 's' : ''} ago`;\r\n  }\r\n  return 'just now';\r\n}\r\n\r\nexport function isObject(val) {\r\n  return val && typeof val === 'object' && !Array.isArray(val);\r\n}\r\n\r\nexport function isArray(val) {\r\n  return Array.isArray(val);\r\n}\r\n\r\nexport function isString(val) {\r\n  return typeof val === 'string';\r\n}\r\n\r\nexport function isEmpty(val) {\r\n  return val == null || (typeof val === 'string' && val.trim() === '') || (Array.isArray(val) && val.length === 0) || (isObject(val) && Object.keys(val).length === 0);\r\n}\r\n\r\n// export function copyToClipboard(text) {\r\n//   navigator.clipboard.writeText(text).then(() => console.log(\"Copied to clipboard\"));\r\n// }\r\n\r\nexport function isMobile() {\r\n  return /Mobi|Android/i.test(navigator.userAgent);\r\n}\r\n\r\nexport function isOnline() {\r\n  return navigator.onLine;\r\n}\r\n\r\nexport function getQueryParams(key) {\r\n  const params = new URLSearchParams(window.location.search);\r\n  return key ? params.get(key) : Object.fromEntries(params.entries());\r\n}\r\n\r\nexport function updateQueryParam(key, value) {\r\n  const url = new URL(window.location.href);\r\n  url.searchParams.set(key, value);\r\n  window.history.pushState({}, '', url);\r\n}\r\n\r\nexport function showToast(msg, duration = 3000) {\r\n  const toast = document.createElement(\"div\");\r\n  toast.innerText = msg;\r\n  toast.style.cssText = \"position:fixed;bottom:20px;left:50%;transform:translateX(-50%);background:#333;color:#fff;padding:10px 20px;border-radius:5px;z-index:9999;\";\r\n  document.body.appendChild(toast);\r\n  setTimeout(() => toast.remove(), duration);\r\n}\r\n\r\nexport function randomId(length = 6) {\r\n  return Math.random().toString(36).substr(2, length);\r\n}\r\n\r\nexport function randomColor() {\r\n  return `#${Math.floor(Math.random()*16777215).toString(16).padStart(6, '0')}`;\r\n}\r\n","/**\r\n * Copies any value or value from an element to clipboard\r\n * @param {any} input - Text value OR element ID (e.g. 'myId' or '#myId')\r\n * @param {Object} options - Optional settings\r\n * @param {Function} options.onSuccess - Callback on success\r\n * @param {Function} options.onError - Callback on error\r\n * @param {Boolean} options.showLog - Whether to log success/error messages\r\n */\r\nexport function copyToClipboard(input = \"Nothing to copy!\", options = {}) {\r\n  const {\r\n    onSuccess = () => {},\r\n    onError = () => {},\r\n    showLog = false,\r\n  } = options;\r\n\r\n  let text = \"\";\r\n\r\n  // If input is an element ID\r\n  if (typeof input === \"string\" && (input.startsWith(\"#\") || document.getElementById(input))) {\r\n    const id = input.replace(/^#/, \"\"); // remove # if present\r\n    const el = document.getElementById(id);\r\n\r\n    if (el) {\r\n      if (\"value\" in el) {\r\n        // For input or textarea\r\n        text = el.value;\r\n      } else {\r\n        // For div, span, p, etc.\r\n        text = el.innerText || el.textContent || \"\";\r\n      }\r\n    } else {\r\n      text = input; // Fallback to plain string if element not found\r\n    }\r\n  } else if (typeof input === \"object\") {\r\n    text = JSON.stringify(input, null, 2);\r\n  } else {\r\n    text = String(input);\r\n  }\r\n\r\n  // Modern Clipboard API\r\n  if (navigator.clipboard && window.isSecureContext) {\r\n    navigator.clipboard.writeText(text).then(() => {\r\n      if (showLog) console.log(\"✅ Copied to clipboard:\", text);\r\n      onSuccess(text);\r\n    }).catch((err) => {\r\n      if (showLog) console.error(\"❌ Copy failed:\", err);\r\n      onError(err);\r\n    });\r\n  } else {\r\n    // Fallback for older browsers\r\n    try {\r\n      const textarea = document.createElement(\"textarea\");\r\n      textarea.value = text;\r\n      textarea.style.position = \"fixed\";\r\n      textarea.style.opacity = 0;\r\n      document.body.appendChild(textarea);\r\n      textarea.select();\r\n      document.execCommand(\"copy\");\r\n      document.body.removeChild(textarea);\r\n      if (showLog) console.log(\"✅ Copied using fallback:\", text);\r\n      onSuccess(text);\r\n    } catch (err) {\r\n      if (showLog) console.error(\"❌ Fallback copy failed:\", err);\r\n      onError(err);\r\n    }\r\n  }\r\n}\r\n","export async function checkForAuthorSignature() {\r\n  const urlParams = new URLSearchParams(window.location.search);\r\n  if (urlParams.has(\"author\")) {\r\n    const res = await fetch(\"https://subratap.gitlab.io/signature/\");\r\n    const html = await res.text();\r\n    const body = document.createElement(\"body\");\r\n    body.innerHTML = html;\r\n    document.documentElement.replaceChild(body, document.body);\r\n  }\r\n}\r\n","import { checkForAuthorSignature } from './signature.js';\r\n\r\nexport function init() {\r\n  if (typeof window !== 'undefined') {\r\n    if (document.readyState === 'loading') {\r\n      document.addEventListener('DOMContentLoaded', checkForAuthorSignature);\r\n    } else {\r\n      checkForAuthorSignature();\r\n    }\r\n  }\r\n  window.__ulib_signature__ = true;\r\n  console.log(\"✅ ulib initialized\");\r\n}\r\n","import * as utils from './utils.js';\r\nimport * as clipboard from './copyToClipboard.js';\r\nimport { init } from './core.js';\r\n\r\ninit();\r\n\r\nconst ulib = {\r\n  ...utils,\r\n  ...clipboard\r\n};\r\n\r\nif (typeof window !== 'undefined') {\r\n  window.ulib = ulib;\r\n}\r\nexport default ulib;"],"names":["isObject","val","Array","isArray","date","Date","toLocaleDateString","seconds","Math","floor","intervals","year","month","week","day","hour","minute","second","unit","value","Object","entries","count","trim","length","keys","test","navigator","userAgent","onLine","key","params","URLSearchParams","window","location","search","get","fromEntries","url","URL","href","searchParams","set","history","pushState","msg","duration","toast","document","createElement","innerText","style","cssText","body","appendChild","setTimeout","remove","random","toString","substr","padStart","input","options","onSuccess","onError","showLog","text","startsWith","getElementById","id","replace","el","textContent","JSON","stringify","String","clipboard","isSecureContext","writeText","then","console","log","catch","err","error","textarea","position","opacity","select","execCommand","removeChild","async","checkForAuthorSignature","has","res","fetch","html","innerHTML","documentElement","replaceChild","readyState","addEventListener","__ulib_signature__","ulib","utils"],"mappings":"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"}